<script type="text/javascript">
	RED.nodes.registerType('shorten', {
		category: 'advanced',
		color: '#AABBCD',
		defaults: {
			name: { value: 'Shorten URL' },
			longurl: { value: '' },
			shorturl: { value: '' }
		},
		inputs: 1,
		outputs: 1,
		icon: 'white-globe.png',
		label: function () {
			return this.name || 'shorten';
	}
});
</script>

<script type="text/x-red" data-template-name='shorten'>
	<div class="form-row">
		<label for='node-input-name'><i class='icon-tag'></i>Name</label>
		<input type='text' id='node-input-name' placeholder='Name'>
	</div>
	<div class="form-row">
		<label for='node-input-longurl'><i class='icon-tag'></i> Long URL</label>
		<input type='text' id='node-input-longurl' placeholder='https://www.google.com'>
	</div>
	<div class="form-row">
		<label for='node-input-shorturl'><i class='icon-tag'></i> Short URL</label>
		<input type='text' id='node-input-shorturl' placeholder='Custom Short URL - minimum 6 letters'>
	</div>
</script>

<script type='text/x-red' data-help-name='shorten'>
	<h2>Shorten URL.</h2>
	<br>
	<p>Shorten long URLs using the is.gd service.</p>

<h3>Inputs</h3>
<dl class="message-properties">
	<dt>longurl
		<span class="property-type">string</span>
	</dt>
	<dd> the long URL to be shortened. e.g: http://www.google.com </dd>
	<dt>shorturl
		<span class="property-type">string</span>
	</dt>
	<dd> custom short URL. If it already exists, an error is returned.</dd>
</dl>

<h3>Outputs</h3>
<ol class="node-ports">
	<li>Standard output
		<dl class="message-properties">
			<dt>payload <span class="property-type">string</span></dt>
			<dd> is the converted short URL
			</dd>
		</dl>
	</li>
</ol>

<h3>Details</h3>
<p>You can set the properties in the incoming message by specifying <code>msg.longurl</code> or <code>msg.payload.longurl</code>. You can set the <code>shorturl</code> similarly. </p>
</script>